<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Benchmarking Visualization</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        /* Add your CSS styles here */
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .form-section {
            margin-bottom: 20px;
        }
    </style>
</head>
<body>
    <h1>Benchmarking Visualization Tool</h1>

    <form action="/" method="post" enctype="multipart/form-data">
        <div class="form-section">
            <label for="data-textbox">Enter Benchmark Data:</label><br>
            <textarea id="data-textbox" name="content" rows="10" cols="50" placeholder="Paste your JSONL data here"></textarea>
        </div>
        <div class="form-section">
            <label for="file-upload">Or Upload a File:</label><br>
            <input type="file" id="file-upload" name="file">
        </div>
        <button type="submit">Generate Diagrams</button>
    </form>

    <!-- Placeholder for Graphs -->
    <div id="data"></div>
    <div id="layout"></div>
    <div id="graph_tpm"></div>
    <div id="graph_util"></div>
    <div id="graph_ttft"></div>
    <div id="graph_e2e"></div>

    <!-- Script to render graphs (You will populate this part dynamically with Flask and Plotly) -->
    <!-- <script>
        {% for key, graphJSON in graphs.items() %}
        var {{ key }} = JSON.parse('{{ graphJSON|safe }}');
        Plotly.newPlot('{{ key }}', {{ key }}.data, {{ key }}.layout);
        {% endfor %}
    </script> -->
    <script>
    var dataString = '[{"mode": "lines+markers", "name": "Total TPM", "x": [], "y": []}]';
    var layoutString = '{"title": {"text": "Total Transactions Per Minute (TPM)"}, "xaxis": {"title": {"text": "Time"}}, "yaxis": {"title": {"text": "TPM"}}}';

    // Assuming you want to check if the data and layout strings are not empty
    if (dataString) {
        var data = JSON.parse(dataString);
        Plotly.newPlot('data', data);
    }
    
    if (layoutString) {
        var layout = JSON.parse(layoutString);
        Plotly.newPlot('layout', [], layout); // Assuming 'layout' is the ID of a different div and the second parameter is an empty data array
    }
    </script>


</body>
</html>
